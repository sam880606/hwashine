<html><head><base href="https://hwashine.tw/">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
  @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;700&display=swap');

  :root {
    --primary-color: #2c8cb0;
    --secondary-color: #1a5f7a;
    --accent-color: #ff6b6b;
    --text-color: #333;
    --bg-color: #f8f9fa;
  }

  body {
    font-family: 'Noto Sans TC', Arial, sans-serif;
    margin: 0;
    padding: 0;
    background-color: var(--bg-color);
    color: var(--text-color);
    line-height: 1.6;
  }

  header {
    background: linear-gradient(135deg, var(--secondary-color), var(--primary-color));
    color: white;
    text-align: center;
    padding: 2rem;
    position: relative;
    overflow: hidden;
  }

  header::before {
    content: "";
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle, rgba(255,255,255,0.2) 0%, rgba(255,255,255,0) 70%);
    animation: ripple 15s infinite linear;
    z-index: 1;
  }

  @keyframes ripple {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }

  header h1 {
    margin: 0;
    font-size: 2.5rem;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
    position: relative;
    z-index: 2;
  }

  nav {
    background-color: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
    padding: 0.5rem;
    position: sticky;
    top: 0;
    z-index: 1000;
  }

  nav ul {
    list-style-type: none;
    padding: 0;
    margin: 0;
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
  }

  nav ul li {
    margin: 0.5rem;
  }

  nav ul li a {
    color: var(--text-color);
    text-decoration: none;
    font-weight: bold;
    transition: all 0.3s ease;
    padding: 0.5rem 1rem;
    border-radius: 4px;
  }

  nav ul li a:hover {
    background-color: var(--primary-color);
    color: white;
  }

  main {
    max-width: 1200px;
    margin: 2rem auto;
    padding: 0 1rem;
  }

  .category-selector {
    margin-bottom: 2rem;
    display: flex;
    justify-content: center;
  }

  .category-select {
    padding: 0.75rem 1.5rem;
    border: 2px solid var(--primary-color);
    background: white;
    color: var(--primary-color);
    border-radius: 4px;
    font-size: 1rem;
    cursor: pointer;
    min-width: 200px;
    transition: all 0.3s ease;
  }

  .category-select:hover {
    border-color: var(--secondary-color);
    color: var(--secondary-color);
  }

  .category-select:focus {
    outline: none;
    box-shadow: 0 0 0 2px rgba(44, 140, 176, 0.2);
  }

  .search-container {
    background-color: white;
    border-radius: 8px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    padding: 1.5rem;
    margin-bottom: 2rem;
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
  }

  .search-container input,
  .search-container select {
    flex: 1;
    padding: 0.75rem;
    border: 1px solid #ddd;
    border-radius: 4px;
    font-size: 1rem;
    min-width: 200px;
  }

  .search-container button {
    background-color: var(--primary-color);
    color: white;
    border: none;
    padding: 0.75rem 1.5rem;
    border-radius: 4px;
    cursor: pointer;
    font-size: 1rem;
    transition: background-color 0.3s ease;
  }

  .search-container button:hover {
    background-color: var(--secondary-color);
  }

  .product-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 1.5rem;
  }

  .product-card {
    background-color: white;
    border-radius: 8px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    overflow: hidden;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    cursor: pointer;
  }

  a .product-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
  }

  .color-sample {
    height: 150px;
    transition: height 0.3s ease;
  }

  .product-content {
    padding: 1.5rem;
  }

  .product-card h3 {
    margin: 0 0 1rem 0;
    color: var(--primary-color);
  }

  .product-info {
    font-size: 0.9rem;
  }

  .expanded-info {
    display: none;
    margin-top: 1rem;
    padding-top: 1rem;
    border-top: 1px solid #eee;
  }

  .product-card.expanded .expanded-info {
    display: block;
  }

  .product-card.expanded {
    grid-column: 1 / -1;
  }

  .product-card.expanded .color-sample {
    height: 200px;
  }

  a .product-card .expanded-info {
    display: none;
  }

  a .product-card:hover .expanded-info {
    display: none;
  }

  @media (max-width: 768px) {
    .search-container {
      flex-direction: column;
    }

    .search-container input,
    .search-container select,
    .search-container button {
      width: 100%;
    }

    .product-grid {
      grid-template-columns: 1fr;
    }
  }

  #back-to-top {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background-color: var(--primary-color);
    color: white;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    display: none;
    border: none;
    font-size: 20px;
    transition: background-color 0.3s ease;
  }

  #back-to-top:hover {
    background-color: var(--secondary-color);
  }

  #contact-us-float {
    position: fixed;
    bottom: 20px;
    left: 20px;
    background-color: var(--primary-color);
    color: white;
    padding: 10px 20px;
    border-radius: 25px;
    cursor: pointer;
    border: none;
    font-size: 16px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    transition: all 0.3s ease;
  }

  #contact-us-float:hover {
    background-color: var(--secondary-color);
    transform: scale(1.05);
  }
</style>
<script>
let products = [
  { name: "藍色有機顏料 PB15:0", color: "#2341FA", category: "藍色", lightfastness: 8, description: "顏料藍15:0是紅像藍色。這種α型銅酞菁藍結晶體使用在較低的加工溫度,通常在200℃以下進行加工。顏料藍15:0在高溫或芳香烴環境中會不穩定,並可能轉變為綠色色相的β型形式。儘管如此該顏料仍是應用廣泛的選擇,特別是在較低溫加工的情況下。", applications: ["油墨", "塗料"], type: 'organic' },
  { name: "藍色有機顏料 PB15:1", color: "#1941E6", category: "藍色", lightfastness: 8, description: "顏料藍15:1它以鮮明的緊光藍色而著稱,具有優異的著色力和牢度性能。與顏料藍15:0相比,顏料藍15:1在顏色鮮艷度和穩定性上有所提升,因此被廣泛應用於多種工業領域。", applications: ["油墨", "塗料", "塑料"], type: 'organic' },
  { name: "藍色有機顏料 PB15:3", color: "#1755DC", category: "藍色", lightfastness: 8, description: "顏料藍15:3具有穩定的綠光藍色調。相較於顏料藍15:0和顏色鮮艷度上有顯著的提升,因而更常用於高需求的應用領域。", applications: ["油墨", "塗料", "塑料"], type: 'organic' },
  { name: "橙色有機顏料 PO13", color: "#FC460D", category: "橙色", lightfastness: 4, description: "顏料橙13因其鮮豔的橙色光澤和優異的性能而被廣泛應用。優點在高性價比,缺點在耐溫略有不足,擁有穩定的色光和良好的耐光性,適合於多種工業和商業用途。", applications: ["油墨", "塗料", "塑料"], type: 'organic' },
  { name: "橙色有機顏料 PO34", color: "#D1160A", category: "橙色", lightfastness: 6, description: "顏料橙34是一種高性能的有機偶氮顏料,以其鮮明的紅光橙色調、優異的耐久性和穩定性著稱。它在多種工業應用中被廣泛使用,尤其在要求高耐光性、耐熱性及化學穩定性的場合。", applications: ["油墨", "塗料", "塑料"], type: 'organic' },
  { name: "橙色有機顏料 PO36", color: "#CC170D", category: "橙色", lightfastness: 8, description: "顏料橙36具有良好的耐光性和耐化學性,適用於各種涂料和油墨產品。", applications: ["油墨", "塗料"], type: 'organic' },
  { name: "橙色有機顏料 PO64", color: "#FD4302", category: "橙色", lightfastness: 7, description: "顏料橙64因其卓越的性能而受到廣泛應用。它的主要特點包括優異的堅牢度、良好的熱穩定性及出色的抗遷移性,特別適合在增塑PVC中使用。此顏料的著色強度中等至高,使其成為理想的著色劑選擇。", applications: ["油墨", "塗料", "塑料"], type: 'organic' },
  { name: "橙色有機顏料 PO72", color: "#F47C3C", category: "橙色", lightfastness: 8, description: "顏料橙36具有良好的耐光性和耐化學性,適用塑料產品。", applications: ["塑料"], type: 'organic' }, 
  { name: "紅色有機顏料 PR122", color: "#A30025", category: "紅色", lightfastness: 7, description: "顏料紅122是一種鮮豔紅紫色、高耐光性與耐候性的環保高性能有機顏料，廣泛應用於油墨、塗料和塗料著色等領域。", applications: ["油墨", "塗料", "塑料"], type: 'organic' },
  { name: "紅色有機顏料 PR146", color: "#8A020E", category: "紅色", lightfastness: 5, description: "顏料紅146具有良好的耐光性和耐化學性,適用於各種高標準油漆和工藝品。", applications: ["油墨", "塗料", "塑料"], type: 'organic' },
  { name: "紅色有機顏料 PR170", color: "#C8030A", category: "紅色", lightfastness: 5, description: "顏料紅170具有一定的耐光性和耐熱性,特別適合高性價比需求的工業用途。", applications: ["油墨", "塗料", "塑料"], type: 'organic' },
  { name: "紅色有機顏料 PR176", color: "#690110", category: "紅色", lightfastness: 6, description: "顏料紅176具有優異的耐光性和耐化學性,高色強度,常用於高端塗料和工業品。", applications: ["油墨", "塗料", "塑料"], type: 'organic' },
  { name: "紅色有機顏料 PR177", color: "#7C010F", category: "紅色", lightfastness: 7, description: "顏料紅177具有良好的透明、耐光性和耐熱性,常被用於汽機車漆。", applications: ["油墨", "塗料", "塑料"], type: 'organic' },
  { name: "紅色有機顏料 PR185", color: "#990213", category: "紅色", lightfastness: 6, description: "顏料紅185廣泛應用於工業塗料、印刷油墨以及塑料著色等領域,特別是在高品質的油墨和專業塗料中，需注意在PVC濃度過低時會發生遷移。", applications: ["油墨", "塗料", "塑料"], type: 'organic' },
  { name: "紅色有機顏料 PR208", color: "#7F0109", category: "紅色", lightfastness: 6, description: "顏料紅208耐溶剂且具化學惰性,可與黃83和碳黑拚棕色,在合成皮中是標準的中紅色。", applications: ["油墨", "塗料", "塑料"], type: 'organic' },
  { name: "紅色有機顏料 PR242", color: "#CF0C07", category: "紅色", lightfastness: 7, description: "顏料紅242展現出明亮而飽和的紅色調,具備高色彩飽和度,主要用於調製高飽和度的黃像粉紅色。", applications: ["油墨", "塗料", "塑料"], type: 'organic' },
  { name: "紅色有機顏料 PR254", color: "#CD0108", category: "紅色", lightfastness: 7, description: "顏料紅254卓越的耐光性和耐化學性,成為許多工業品中的理想選擇。到了現今有著規模經濟的價格優勢。", applications: ["油墨", "塗料", "塑料"], type: 'organic' },
  { name: "紫色有機顏料 PV19", color: "#960210", category: "紫色", lightfastness: 7, description: "顏料紫19主要有α和β晶型,良好的耐光性主要用於高端產品。", applications: ["油墨", "塗料", "塑料"], type: 'organic' },
  { name: "紫色有機顏料 PV23", color: "#080614", category: "紫色", lightfastness: 7, description: "顏料紫23具有優異的耐光性和耐化學性,需特別注意低濃度時的耐候性和微量溶解。", applications: ["油墨", "塗料", "塑料"], type: 'organic' },
  { name: "黃色有機顏料 PY14", color: "#FFDC02", category: "黃色", lightfastness: 4, description: "顏料黃14是性價比較高的選擇。", applications: ["油墨", "塗料", "塑料"], type: 'organic' },
  { name: "黃色有機顏料 PY74", color: "#FFD607", category: "黃色", lightfastness: 7, description: "顏料黃74具有優良的耐光性,廣泛應用於室內塗料。", applications: ["油墨", "塗料"], type: 'organic' },
  { name: "黃色有機顏料 PY83", color: "#FDA003", category: "黃色", lightfastness: 6, description: "顏料黃83市場品種眾多，是最常被使用的黃色之一。", applications: ["油墨", "塗料", "塑料"], type: 'organic' },
  { name: "黃色有機顏料 PY110", color: "#FF7F02", category: "黃色", lightfastness: 7, description: "異吲哚啉黃顏料,具有優異的耐光性和耐化學性,適合戶外產品和特殊需求。", applications: ["油墨", "塗料", "塑料"], type: 'organic' },
  { name: "黃色有機顏料 PY128", color: "#FFDC02", category: "黃色", lightfastness: 7, description: "二吖華唑黃顏料,具有優異的耐光性和耐熱性,適合工業製造和設計。", applications: ["油墨", "塗料", "塑料"], type: 'organic' },
  { name: "黃色有機顏料 PY138", color: "#FFDE03", category: "黃色", lightfastness: 7, description: "具有極佳的耐光性和耐化學性,適合高製品和專業用途。", applications: ["油墨", "塗料", "塑料"], type: 'organic' },
  { name: "黃色有機顏料 PY139", color: "#FC9F01", category: "黃色", lightfastness: 7, description: "異吲哚啉黃顏料,具有極佳的耐光性和耐候性,適合戶外裝飾和工業用途。", applications: ["油墨", "塗料", "塑料"], type: 'organic' },
  { name: "黃色有機顏料 PY150", color: "#D27502", category: "黃色", lightfastness: 7, description: "偶氮黃顏料,具有優異的耐光性和耐化學性,適合各種高耐候需求商品。", applications: ["油墨", "塗料", "塑料"], type: 'organic' },
  { name: "黃色有機顏料 PY151", color: "#FEE400", category: "黃色", lightfastness: 7, description: "苯並咪唑酮黃顏料,具有優異的耐光性和耐熱性,適合多種應用場景。", applications: ["油墨", "塗料", "塑料"], type: 'organic' },
  { name: "黃色有機顏料 PY154", color: "#FFD303", category: "黃色", lightfastness: 7, description: "苯並咪唑酮黃顏料,具有極佳的耐光性和耐化學性,適合高端塗料產品和工業需求。", applications: ["油墨", "塗料", "塑料"], type: 'organic' },
  { name: "黃色有機顏料 PY155", color: "#FDC103", category: "黃色", lightfastness: 7, description: "該顏料在汽車塗料中使用,因其優秀的耐磨性和耐候性,可以保持汽車外觀的持久性。", applications: ["油墨", "塗料", "塑料"], type: 'organic' },
  { name: "黃色有機顏料 PY180", color: "#FFD303", category: "黃色", lightfastness: 7, description: "苯並咪唑酮黃顏料,具有極佳的耐光性和耐化學性。", applications: ["油墨", "塗料", "塑料"], type: 'organic' },
  { name: "黃色有機顏料 PY192", color: "#FFD303", category: "黃色", lightfastness: 7, description: "苯並咪唑酮黃顏料,主要被應用於PA6。", applications: ["塑料"], type: 'organic' }
];

let otherProducts = [
  {
    name: "TPO光啟始劑",
    category: "光引發劑", 
    description: "吸收波長: 295, 380, 393nm。用途:具固化速度快和光漂白作用,適合於厚膜深層固化,多用於白色體系,可用於紫外固化塗料、印刷油墨、紫外固化粘合劑、光導纖維塗料、抗光蝕劑、光聚合印版、立體平版樹脂、複合材料、牙齒填充料等。",
    applications: ["UV塗料", "UV油墨"],
    type: 'other'
  },
  {
    name: "MXD6",
    link: "https://hwashine.tw/PA-MXD6/indexMXD6", 
    category: "特殊型的尼龍", 
    description: "MXD6（間苯二甲胺與己二酸縮聚而成的尼龍）是一種具有優異氣體阻隔性能的半芳香族尼龍。其分子結構中含有剛性芳香環，使其具備良好的機械強度、耐熱性以及極佳的氧氣阻隔能力，尤其適用於對氣體阻隔性要求較高的包裝領域。",
    applications: ["塑料"],
    type: 'other'
  }
];

products = products.concat(otherProducts);

let solventDyes = [
  {
    name: "溶劑染料",
    link: "https://hwashine.tw/solvent-dyes-showcase/",
    category: "溶劑染料", 
    description: "提供多種高品質溶劑染料，適用於各種工業應用。點擊查看更多詳情。",
    applications: ["塑料", "油墨", "塗料"], 
    type: 'solvent'
  }
];

products = products.concat(solventDyes);

// Add fluorescent products array after solventDyes array
let fluorescentProducts = [
  {
    name: "螢光增白劑 OB",
    category: "螢光增白劑",
    description: "OB廣泛適用於PVC、PE、PP、PS、ABS、PMMA、POM等熱塑性塑膠以及熱固性塑膠、聚酯纖維、油漆、油墨、塗料等的增白。",
    applications: ["塑料,塗料,油墨"],
    type: 'fluorescent'
  },
  {
    name: "螢光增白劑 OB-1",
    category: "螢光增白劑", 
    description: "增白強度高，有強烈螢光。適用性能廣，廣泛應用於聚酯、尼龍纖維及各種塑膠的增白。具有優秀的耐高溫性能。",
    applications: ["塑料"],
    type: 'fluorescent'
  },
  {
    name: "螢光增白劑 KCB",
    category: "螢光增白劑",
    description: "螢光增白劑KCB主要用於合成纖維與塑膠製品的增白，對有色塑膠製品也有明顯的增艷效果，廣泛用於塑膠薄膜、壓膜成型材料、注塑成型材料等，對聚烯烴、PVC、發泡PVC、TPR、EVA及PU泡棉、合成橡膠等有極佳增白效果，還可用於塗料、天然漆等的增白，對發泡塑膠特別是EVA、PE發泡有特效。",
    applications: ["塑料"],
    type: 'fluorescent'
  },
  {
    name: "螢光增白劑 KSN",
    category: "螢光增白劑",
    description: "適用於聚酯、聚醯胺、聚丙烯腈等纖維及絲織品、毛織品的增白。廣泛用於薄膜、射出成型和擠壓成型材料，適用於所有塑膠的加工。非常適合合成高聚物任何加工階段的增白，包括聚合階段。",
    applications: ["塑料"],
    type: 'fluorescent'
  }
];

products = products.concat(fluorescentProducts);

function getUrlParameter(name) {
    try {
        const urlParams = new URLSearchParams(window.location.search);
        return urlParams.get(name);
    } catch (err) {
        console.warn('Error parsing URL parameters:', err);
        return null;
    }
}

function updateFilterOptions(category) {
    const colorFilter = document.getElementById('color-filter');
    const applicationFilter = document.getElementById('application-filter');
    
    if (category === 'all') {
        // Show only search for "all products"
        if (colorFilter) colorFilter.style.display = 'none';
        if (applicationFilter) applicationFilter.style.display = 'none';
    } else if (category === 'organic' || category === 'solvent') {
        // Show all filters for organic pigments and solvent dyes
        if (colorFilter) colorFilter.style.display = 'block';
        if (applicationFilter) applicationFilter.style.display = 'block';
    } else {
        // Hide all filters for fluorescent and others
        if (colorFilter) colorFilter.style.display = 'none';
        if (applicationFilter) applicationFilter.style.display = 'none';
    }
}

function filterProducts() {
    const searchTerm = document.getElementById('search-input')?.value.toLowerCase() || '';
    const selectedColor = document.getElementById('color-filter')?.value || '';
    const selectedApplication = document.getElementById('application-filter')?.value || '';
    const activeCategory = document.querySelector('.category-select')?.value || getUrlParameter('category') || 'all';
    
    let filtered = products;
    
    // 首先按类别筛选
    if (activeCategory !== 'all') {
        filtered = filtered.filter(product => product.type === activeCategory);
    }
    
    // 如果有搜索词则继续筛选
    if (searchTerm) {
        filtered = filtered.filter(product => 
            product.name.toLowerCase().includes(searchTerm) ||
            (product.description && product.description.toLowerCase().includes(searchTerm))
        );
    }
    
    // 如果选择了颜色则继续筛选
    if (selectedColor) {
        filtered = filtered.filter(product => product.category === selectedColor);
    }
    
    // 如果选择了应用领域则继续筛选
    if (selectedApplication) {
        filtered = filtered.filter(product => 
            product.applications && product.applications.includes(selectedApplication)
        );
    }
    
    // 展示筛选后的结果
    displayProducts(filtered);
}

function switchCategory(category) {
    try {
        // 更新筛选器可见性
        updateFilterOptions(category);
        
        // 重置筛选器
        const searchInput = document.getElementById('search-input');
        const colorFilter = document.getElementById('color-filter');
        const applicationFilter = document.getElementById('application-filter');
        
        if (searchInput) searchInput.value = '';
        if (colorFilter) colorFilter.value = '';
        if (applicationFilter) applicationFilter.value = '';
        
        // 执行筛选
        filterProducts();
        
    } catch (err) {
        console.error('Error switching category:', err);
        // 如果出错则显示所有产品
        displayProducts(products);
    }
}

// 修改 DOMContentLoaded 事件监听器
document.addEventListener('DOMContentLoaded', function() {
    const categoryParam = getUrlParameter('category');
    const categorySelect = document.getElementById('category-select');

    // 设置初始类别
    if (categoryParam) {
        const validCategories = ['all', 'organic', 'solvent', 'fluorescent', 'other'];
        if (validCategories.includes(categoryParam)) {
            if (categorySelect) {
                categorySelect.value = categoryParam;
            }
            // 初始化筛选器
            updateFilterOptions(categoryParam);
            // 立即执行筛选
            filterProducts();
        }
    }

    // Initialize grid element
    const grid = document.getElementById('product-grid');
    if (!grid) {
        console.error('Product grid element not found');
        return;
    }

    // Check for search parameter in URL
    const searchParam = getUrlParameter('search');
    if (searchParam) {
        const searchInput = document.getElementById('search-input');
        if (searchInput) {
            searchInput.value = searchParam;
            // Trigger the search
            filterProducts();
        }
    }

    // Add event listener for category select
    if (categorySelect) {
        categorySelect.addEventListener('change', (e) => {
            switchCategory(e.target.value);
            // Instead of using pushState, we'll use replaceState with relative URL
            try {
                const relativeUrl = `?category=${e.target.value}`;
                window.history.replaceState({}, '', relativeUrl);
            } catch (err) {
                console.warn('Unable to update URL:', err);
                // Continue with category switch even if URL update fails
            }
        });
    }

    // Add event listeners for search and filters
    const searchButton = document.getElementById('search-button');
    const searchInput = document.getElementById('search-input');
    const colorFilter = document.getElementById('color-filter');
    const applicationFilter = document.getElementById('application-filter');

    if (searchButton) {
        searchButton.addEventListener('click', filterProducts);
    }
    
    if (searchInput) {
        searchInput.addEventListener('keyup', function(event) {
            if (event.key === 'Enter') {
                filterProducts();
            }
        });
    }
    
    if (colorFilter) {
        colorFilter.addEventListener('change', filterProducts);
    }
    
    if (applicationFilter) {
        applicationFilter.addEventListener('change', filterProducts);
    }

    // 初始显示筛选后的产品
    filterProducts();

    // Add back-to-top button functionality
    const backToTopButton = document.getElementById('back-to-top');

    window.onscroll = function() {
        if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
            backToTopButton.style.display = "flex";
        } else {
            backToTopButton.style.display = "none";
        }
    };

    backToTopButton.addEventListener('click', function() {
        window.scrollTo({
            top: 0,
            behavior: 'smooth'
        });
    });

    // Add click handler for contact us button
    const contactUsButton = document.getElementById('contact-us-float');
    if (contactUsButton) {
        contactUsButton.addEventListener('click', function() {
            window.location.href = '/contact'; // Navigate to contact page
        });
    }
});

// Helper function to create product card
function createProductCard(product) {
    const card = document.createElement('div');
    card.className = 'product-card';
    
    // Only show color sample for organic pigments or solvent dyes that have a color
    if (product.color && (product.type === 'organic' || product.type === 'solvent')) {
        const colorSample = document.createElement('div');
        colorSample.className = 'color-sample';
        colorSample.style.backgroundColor = product.color || '#CCCCCC';
        card.appendChild(colorSample);
    }
    
    const content = document.createElement('div');
    content.className = 'product-content';
    
    const basicInfo = `
        <h3>${product.name}</h3>
        <div class="product-info">
            ${(product.type !== 'fluorescent' && product.type !== 'other') ? `<p>顏色: ${product.category || product.color || '未指定'}</p>` : ''}
            <p>應用: ${Array.isArray(product.applications) ? product.applications.join(', ') : '未指定'}</p>
        </div>
    `;
    
    const expandedInfo = `
        <div class="expanded-info">
            <p>${product.description || '暫無描述'}</p>
        </div>
    `;
    
    content.innerHTML = basicInfo + expandedInfo;
    card.appendChild(content);
    
    return card;
}

// Modify the displayProducts function 
function displayProducts(filteredProducts = products) {
    const grid = document.getElementById('product-grid');
    if (!grid) {
        console.error('Product grid element not found');
        return;
    }
    
    grid.innerHTML = '';

    filteredProducts.forEach(product => {
        if (product.type === 'organic') {
            const link = document.createElement('a');
            let pigmentCode = product.name
                .match(/P[BRGYOV]\d+(?::\d+)?/i)?.[0]?.toUpperCase().replace(':', '-') || '';

            if (pigmentCode === "PR176") {
                link.href = "https://hwashine.tw/Pigmentred176";
            } else if (pigmentCode) { 
                link.href = `https://hwashine.tw/${pigmentCode}`;
            } else {
                link.href = '#'; 
            }

            link.style.textDecoration = 'none';
            link.style.color = 'inherit';
            
            const card = createProductCard(product);
            link.appendChild(card);
            grid.appendChild(link);
        } else if (product.type === 'solvent') {
            const link = document.createElement('a');
            link.href = product.link || 'https://hwashine.tw/solvent-dyes-showcase/';
            link.style.textDecoration = 'none';
            link.style.color = 'inherit';

            const card = createProductCard(product);
            link.appendChild(card);
            grid.appendChild(link);
        } else { 
            if (product.link) {
                const linkElement = document.createElement('a');
                linkElement.href = product.link;
                linkElement.style.textDecoration = 'none';
                linkElement.style.color = 'inherit';

                const card = createProductCard(product);
                linkElement.appendChild(card);
                grid.appendChild(linkElement);
            } else {
                const card = createProductCard(product);
                card.addEventListener('click', () => {
                    card.classList.toggle('expanded');
                });
                grid.appendChild(card);
            }
        }
    });
}
</script>
</head>
<body>

<header>
  <h1>產品總表</h1>
</header>

<nav>
  <ul>
    <li><a href="/">首頁</a></li>
    <li><a href="/about">關於我們</a></li>
    <li><a href="/products">產品</a></li>
    <li><a href="/contact">聯絡我們</a></li>
  </ul>
</nav>

<main>
  <div class="category-selector">
    <select id="category-select" class="category-select">
      <option value="all">所有產品</option>
      <option value="organic">有機顏料</option>
      <option value="solvent">溶劑染料</option>
      <option value="fluorescent">螢光增白劑</option>
      <option value="other">其他</option>
    </select>
  </div>

  <div class="search-container">
    <input type="text" id="search-input" placeholder="關鍵字查詢(例如:139、111)">
    <select id="color-filter">
      <option value="">所有顏色</option>
      <option value="藍色">藍色</option>
      <option value="橙色">橙色</option>
      <option value="紅色">紅色</option>
      <option value="紫色">紫色</option>
      <option value="黃色">黃色</option>
      <option value="綠色">綠色</option>
    </select>
    <select id="application-filter">
      <option value="">所有應用</option>
      <option value="油墨">油墨</option>
      <option value="塗料">塗料</option>
      <option value="塑料">塑料</option>
    </select>
    <button id="search-button">搜索</button>
  </div>

  <div id="product-grid" class="product-grid"></div>
</main>

<button id="back-to-top" title="回到頂部">↑</button>
<button id="contact-us-float">聯絡我們</button>

</body>
</html>
